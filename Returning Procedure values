CALL   "SM_STE"."PROC_DATA_ENTRY"('IT SE',?);
DROP PROCEDURE "SM_STE"."PROC_DATA_ENTRY";
--Create statement for a wrapper procedure to manipulate the output values 
CREATE PROCEDURE "SM_STE"."PROC_DATA_ENTRY"(IN DATA VARCHAR(4999),OUT JOIN_TABLE DATA_TBL)
LANGUAGE SQLSCRIPT AS 
BEGIN
      DECLARE QUERY VARCHAR(4999);
      DECLARE QR VARCHAR(4999);
      DECLARE INSERT_QR VARCHAR(4999);
            --Temporary table to store data 
                  DROP TABLE "SM_STE"."#TEMP_TABLE";
                  CREATE LOCAL TEMPORARY TABLE "SM_STE"."#TEMP_TABLE" LIKE "SM_STE"."DATA_DEMO";
            INSERT_QR:='INSERT INTO "SM_STE"."#TEMP_TABLE" VALUES (10,'''||:DATA||''')';
            EXEC INSERT_QR;
            --INPUT PARAMETERS USING VARIABLES
            IP_TEMP=SELECT * FROM "SM_STE"."#TEMP_TABLE";
            IP_PEQP=SELECT * FROM "SM_STE"."DEMO_PEQP";
       --CALL THE PROCEDURE
       CALL SM_STE.PAL_LDAINFERENCE(:IP_TEMP, :IP_PEQP,:OUTPUT_TABLE) ;
       --FETCH THE RESULTS OF THE OUT TABLE INTO A VARIABLE
       INSERT INTO "SM_STE"."DEMO_TABLE" SELECT * FROM :OUTPUT_TABLE;
       JOIN_TABLE=SELECT * FROM DATA_TBL;
END;
